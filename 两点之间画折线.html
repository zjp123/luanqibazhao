<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .connect-element {
            /* position: absolute; */
            width: 100px;
            height: 50px;
            background-color: lightblue;
            text-align: center;
            line-height: 50px;
        }

        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        #element2 {
            margin: 300px;
        }
    </style>
</head>
<body>
    <div id="element1" class="connect-element">
        Element 1
    </div>
    <div id="element2" class="connect-element">
        Element 2
    </div>
    <svg id="line-container"></svg>  
    <script>
        // 直线
        function drawLineBetweenElements3(element1, element2) {
            const svg = document.getElementById('line-container');
            const rect1 = element1.getBoundingClientRect();
            const rect2 = element2.getBoundingClientRect();

            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;

            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;

            const midX = (x1 + x2) / 2;
            const midY = (y1 + y2) / 2;

            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', `M${x1},${y1} Q${midX},${midY} ${x2},${y2}`);
            path.setAttribute('fill', 'none');
            path.setAttribute('stroke', 'black');

            svg.appendChild(path);
        }

        const element1 = document.getElementById('element1');
        const element2 = document.getElementById('element2');

        drawLineBetweenElements3(element1, element2);

    </script>
    <script>
        // 折线
        function drawLineBetweenElements2(element1, element2) {
            const svg = document.getElementById('line-container');
            const rect1 = element1.getBoundingClientRect();
            const rect2 = element2.getBoundingClientRect();

            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;

            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;

            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', x1);
            line.setAttribute('y1', y1);
            line.setAttribute('x2', x2);
            line.setAttribute('y2', y1); // Change y1 to y2
            line.setAttribute('stroke', 'black');

            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', `M${x2},${y1} L${x2},${y2}`);
            path.setAttribute('stroke', 'black');

            svg.appendChild(line);
            svg.appendChild(path);
        }

        // const element1 = document.getElementById('element1');
        // const element2 = document.getElementById('element2');

        // drawLineBetweenElements2(element1, element2);

    </script>
    <script>
        // 折线
        function drawLineBetweenElements1(element1, element2) {
            const svg = document.getElementById('line-container');
            const rect1 = element1.getBoundingClientRect();
            const rect2 = element2.getBoundingClientRect();

            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;

            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;

            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', x1);
            line.setAttribute('y1', y1);
            line.setAttribute('x2', x2);
            line.setAttribute('y2', y1);
            line.setAttribute('stroke', 'black');

            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', `M${x2},${y1} L${x2},${y2}`);
            path.setAttribute('stroke', 'black');

            svg.appendChild(line);
            svg.appendChild(path);
        }

        // const element1 = document.getElementById('element1');
        // const element2 = document.getElementById('element2');

        // drawLineBetweenElements1(element1, element2);

    </script> 
    <script>
        // 折线
        function drawLineBetweenElements(element1, element2) {
            const svg = document.getElementById('line-container');
            const rect1 = element1.getBoundingClientRect();
            const rect2 = element2.getBoundingClientRect();

            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;

            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;

            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', `M${x1},${y1} L${x1},${(y1 + y2) / 2} ${x2},${(y1 + y2) / 2} ${x2},${y2}`);
            path.setAttribute('fill', 'none');
            path.setAttribute('stroke', 'black');

            svg.appendChild(path);
        }

        // const element1 = document.getElementById('element1');
        // const element2 = document.getElementById('element2');

        // drawLineBetweenElements(element1, element2);

    </script>    
</body>
</html>